"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.publicStaticPropertiesLinter = void 0;
const linter_1 = require("../linter");
const UPPER_SNAKE_CASE_ALLOWED_PATTERN = new RegExp('^[A-Z0-9][A-Z0-9_]*[A-Z0-9]+$');
exports.publicStaticPropertiesLinter = new linter_1.Linter(assembly => {
    const result = new Array();
    for (const c of assembly.allClasses) {
        for (const property of c.allProperties) {
            if (property.const && property.static) {
                result.push(property);
            }
        }
    }
    return result;
});
exports.publicStaticPropertiesLinter.add({
    code: 'public-static-props-all-caps',
    message: 'public static properties must be named using ALL_CAPS',
    eval: e => {
        const name = e.ctx.name;
        e.assert(UPPER_SNAKE_CASE_ALLOWED_PATTERN.test(name), `${e.ctx.parentType.fqn}.${name}`);
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLXN0YXRpYy1wcm9wZXJ0aWVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicHVibGljLXN0YXRpYy1wcm9wZXJ0aWVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHNDQUFtQztBQUVuQyxNQUFNLGdDQUFnQyxHQUFHLElBQUksTUFBTSxDQUFDLCtCQUErQixDQUFDLENBQUM7QUFFeEUsUUFBQSw0QkFBNEIsR0FBRyxJQUFJLGVBQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtJQUNoRSxNQUFNLE1BQU0sR0FBRyxJQUFJLEtBQUssRUFBWSxDQUFDO0lBQ3JDLEtBQUssTUFBTSxDQUFDLElBQUksUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3BDLEtBQUssTUFBTSxRQUFRLElBQUksQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3ZDLElBQUksUUFBUSxDQUFDLEtBQUssSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3RDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDeEIsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDLENBQUM7QUFFSCxvQ0FBNEIsQ0FBQyxHQUFHLENBQUM7SUFDL0IsSUFBSSxFQUFFLDhCQUE4QjtJQUNwQyxPQUFPLEVBQUUsdURBQXVEO0lBQ2hFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRTtRQUNSLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxNQUFNLENBQUMsZ0NBQWdDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLENBQUM7SUFDM0YsQ0FBQztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3BlcnR5IH0gZnJvbSAnanNpaS1yZWZsZWN0JztcbmltcG9ydCB7IExpbnRlciB9IGZyb20gJy4uL2xpbnRlcic7XG5cbmNvbnN0IFVQUEVSX1NOQUtFX0NBU0VfQUxMT1dFRF9QQVRURVJOID0gbmV3IFJlZ0V4cCgnXltBLVowLTldW0EtWjAtOV9dKltBLVowLTldKyQnKTtcblxuZXhwb3J0IGNvbnN0IHB1YmxpY1N0YXRpY1Byb3BlcnRpZXNMaW50ZXIgPSBuZXcgTGludGVyKGFzc2VtYmx5ID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5PFByb3BlcnR5PigpO1xuICBmb3IgKGNvbnN0IGMgb2YgYXNzZW1ibHkuYWxsQ2xhc3Nlcykge1xuICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgYy5hbGxQcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAocHJvcGVydHkuY29uc3QgJiYgcHJvcGVydHkuc3RhdGljKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG5wdWJsaWNTdGF0aWNQcm9wZXJ0aWVzTGludGVyLmFkZCh7XG4gIGNvZGU6ICdwdWJsaWMtc3RhdGljLXByb3BzLWFsbC1jYXBzJyxcbiAgbWVzc2FnZTogJ3B1YmxpYyBzdGF0aWMgcHJvcGVydGllcyBtdXN0IGJlIG5hbWVkIHVzaW5nIEFMTF9DQVBTJyxcbiAgZXZhbDogZSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGUuY3R4Lm5hbWU7XG4gICAgZS5hc3NlcnQoVVBQRVJfU05BS0VfQ0FTRV9BTExPV0VEX1BBVFRFUk4udGVzdChuYW1lKSwgYCR7ZS5jdHgucGFyZW50VHlwZS5mcW59LiR7bmFtZX1gKTtcbiAgfSxcbn0pO1xuIl19